#+STARTUP: overview hideblocks

* Doom [[file:~/.emacs.d/docs/index.org][#docs-index]] [[file:~/.emacs.d/docs/getting_started.org][#getting-started]] [[file:~/.emacs.d/docs/modules.org][#modules]]

[[https://www.emacswiki.org/emacs/GccEmacs][Installation]]

*IMPORTANT* - [[file:~/.emacs.d/docs/getting_started.org::*Looking up documentation and state from within Emacs][Looking up documentation and HELP]] in *ANY* possible way e.g. /vars,
funcs, faces, *bindings*, keys, chars, libs/

config reload - ~spc h r r~

** Doom Theme [[https://github.com/hlissner/emacs-doom-themes][#here]]
There are two ways to load a theme. Both assume the theme is installed and
available. You can either set =doom-theme= or manually load a theme with the
=load-theme= function. This is the default - ~(setq doom-theme 'doom-one)~

- ~SPC h t~   load-theme Load Custom theme named THEME from its file and p...
- ~SPC h r t~ doom/reload-theme Reload the current Emacs theme.

** Fonts

Doom exposes five (optional) variables for controlling fonts in Doom. Here
are the three important ones:
+ `doom-font'
+ `doom-variable-pitch-font'
+ `doom-big-font' -- used for `doom-big-font-mode'; use this for
  presentations or streaming.

They all accept either a font-spec, font string ("Input Mono-12"), or xlfd
font string. You generally only need these two:
#+begin_src elisp
(setq doom-font (font-spec :family "monospace" :size 12 :weight 'semi-light)
      doom-variable-pitch-font (font-spec :family "sans" :size 13))
#+end_src

* Shortcuts

Sources: [[file:~/.emacs.d/modules/config/default/+evil-bindings.el][+evil-bindings.el]], [[https://github.com/hlissner/doom-emacs/blob/96bea9e9ad4f3e3412472fa0f26a19d19be66a1a/modules/config/default/%2Bbindings.el][bindings.el]], [[file:~/.emacs.d/modules/editor/evil/config.el::;;; Keybinds][evil/config.el]]

_Misc:_

~C-S-f~ / ~spc t F~ - #'toggle-frame-fullscreen

- Buffer-local font resizing: ~C-= / C--~ #'text-scale-increase/decrease
- Frame-local font resizing: ~M-C-=/-~  #'doom/increase/decrease-font-size
- ~C-+~   #'doom/reset-font-size

_Anywhere in help-related / apropos-related buffers:_
- ~o~ - #'link-hint-open-link

Also in =apropos= - ~TAB / backtab~ - forward / backward

Custom evil keybinds:
- :nv "zn"    #'+evil:narrow-buffer
- :n  "zN"    #'doom/widen-indirectly-narrowed-buffer
- :n  "zx"    #'kill-current-buffer
- :n  "ZX"    #'doom/save-and-kill-buffer

;; don't leave visual mode after shifting:
- :v  "<"     #'+evil/shift-left  ; vnoremap < <gv
- :v  ">"     #'+evil/shift-right  ; vnoremap > >gv

** minibuffer
Btw u can use ~C-j/k~ instead of ~C-n/p~ in minibuffer (~C-j/k~ #'next/previous-line)

- ~C-S-j/k~ #'scroll-up/down-command
- ~C-s~     # minibuffer history
- ~C-a~     #'move-beginning-of-line
- ~C-b/f~   #'evil-backward/forward-char
- ~C-r~     #'evil-paste-from-register
- ~C-u~     #'evil-delete-back-to-indentation
- ~C-v~     #'yank
- ~C-w~     #'doom/delete-backward-word
- ~C-z~   (cmd! (ignore-errors (call-interactively #'undo))))

** <leader>

Uncategorized:
- "Eval expression"       ";"    #'pp-eval-expression
- "Pop up scratch buffer" "x"    #'doom/open-scratch-buffer
- "Org Capture"           "X"    #'org-capture
- "Search for symbol in project" "*" #'+default/search-project-for-symbol-at-point
- "Search project"               "/" #'+default/search-project
- "Find file in project"  "SPC"  #'projectile-find-file
- "Jump to bookmark"      "RET"  #'bookmark-jump
- "Find file"             "."    #'find-file

# C-u is used by evil
- "Universal argument"    "u"    #'universal-argument
- "help"                  "h"    help-map

workspaces:
- "Switch workspace buffer" "," #'persp-switch-to-buffer
- "Switch buffer"           "<" #'switch-to-buffer)
- "Switch to last buffer" "`"    #'evil-switch-to-windows-last-buffer
- "Resume last search"    "'"

*** <leader> TAB - workspace

- "Display tab bar"           "TAB" #'+workspace/display
- "Switch workspace"          "."   #'+workspace/switch-to
- "Switch to last workspace"  "`"   #'+workspace/other
- "New workspace"             "n"   #'+workspace/new
- "New named workspace"       "N"   #'+workspace/new-named
- "Load workspace from file"  "l"   #'+workspace/load
- "Save workspace to file"    "s"   #'+workspace/save
- "Delete session"            "x"   #'+workspace/kill-session
- "Delete this workspace"     "d"   #'+workspace/delete
- "Rename workspace"          "r"   #'+workspace/rename
- "Restore last session"      "R"   #'+workspace/restore-last-session
- "Next workspace"            "]"   #'+workspace/switch-right
- "Previous workspace"        "["   #'+workspace/switch-left
- "Switch to {number} workspace"   "{number}"   #'+workspace/switch-to-{number}
- "Switch to final workspace" "0"   #'+workspace/switch-to-final))

*** <leader> b - buffers

- "Toggle narrowing"            "-"   #'doom/toggle-narrow-buffer
- "Previous buffer"             "["   #'previous-buffer
- "Next buffer"                 "]"   #'next-buffer
- "Switch workspace buffer" "b" #'persp-switch-to-buffer
- "Switch buffer"           "B" #'switch-to-buffer)
- "Clone buffer"                "c"   #'clone-indirect-buffer
- "Clone buffer other window"   "C"   #'clone-indirect-buffer-other-window
- "Kill buffer"                 "d"   #'kill-current-buffer
- "ibuffer"                     "i"   #'ibuffer
- "Kill buffer"                 "k"   #'kill-current-buffer
- "Kill all buffers"            "K"   #'doom/kill-all-buffers
- "Switch to last buffer"       "l"   #'evil-switch-to-windows-last-buffer
- "Set bookmark"                "m"   #'bookmark-set
- "Delete bookmark"             "M"   #'bookmark-delete
- "Next buffer"                 "n"   #'next-buffer
- "New empty buffer"            "N"   #'evil-buffer-new
- "Kill other buffers"          "O"   #'doom/kill-other-buffers
- "Previous buffer"             "p"   #'previous-buffer
- "Revert buffer"               "r"   #'revert-buffer
- "Save buffer"                 "s"   #'basic-save-buffer
- "Save all buffers"            "S"   #'evil-write-all
- "Save buffer as root"         "u"   #'doom/sudo-save-buffer
- "Pop up scratch buffer"       "x"   #'doom/open-scratch-buffer
- "Switch to scratch buffer"    "X"   #'doom/switch-to-scratch-buffer
- "Bury buffer"                 "z"   #'bury-buffer
- "Kill buried buffers"         "Z"   #'doom/kill-buried-buffers)

*** <leader> c - code (lsp / lookup)

- "LSP Execute code action" "a" #'lsp-execute-code-action
- "LSP Organize imports" "o"    #'lsp-organize-imports
- "Jump to symbol in current workspace" "j"   #'consult-lsp-symbols
- "Jump to symbol in any workspace"     "J"   (cmd!! #'consult-lsp-symbols 'all-workspaces))

when :ui treemacs +lsp:
- "Errors list"                         "X"   #'lsp-treemacs-errors-list
- "Incoming call hierarchy"             "y"   #'lsp-treemacs-call-hierarchy
- "Outgoing call hierarchy"             "Y"   (cmd!! #'lsp-treemacs-call-hierarchy t)
- "References tree"                     "R"   (cmd!! #'lsp-treemacs-references t)
- "Symbols"                             "S"   #'lsp-treemacs-symbols
- "LSP"                                 "l"   #'+default/lsp-command-map
- "LSP Rename"                          "r"   #'lsp-rename

-----

- "Compile"                               "c"   #'compile
- "Recompile"                             "C"   #'recompile
- "Jump to definition"                    "d"   #'+lookup/definition
- "Jump to references"                    "D"   #'+lookup/references
- "Evaluate buffer/region"                "e"   #'+eval/buffer-or-region
- "Evaluate & replace region"             "E"   #'+eval:replace-region
- "Format buffer/region"                  "f"   #'+format/region-or-buffer
- "Find implementations"                  "i"   #'+lookup/implementations
- "Jump to documentation"                 "k"   #'+lookup/documentation
- "Send to repl"                          "s"   #'+eval/send-region-to-repl
- "Find type definition"                  "t"   #'+lookup/type-definition
- "Delete trailing whitespace"            "w"   #'delete-trailing-whitespace
- "Delete trailing newlines"              "W"   #'doom/delete-trailing-newlines
- "List errors"                           "x"   #'+default/diagnostics)

*** <leader> f - file

- "Open project editorconfig"   "c"   #'editorconfig-find-current-editorconfig
- "Copy this file"              "C"   #'doom/copy-this-file
- "Find directory"              "d"   #'+default/dired
- "Delete this file"            "D"   #'doom/delete-this-file
- "Find file in emacs.d"        "e"   #'doom/find-file-in-emacsd
- "Browse emacs.d"              "E"   #'doom/browse-in-emacsd
- "Find file"                   "f"   #'find-file
- "Find file from here"         "F"   #'+default/find-file-under-here
- "Locate file"                 "l"   #'locate
- "Find file in private config" "p"   #'doom/find-file-in-private-config
- "Browse private config"       "P"   #'doom/open-private-config
- "Recent files"                "r"   #'recentf-open-files
- "Rename/move file"            "R"   #'doom/move-this-file
- "Save file"                   "s"   #'save-buffer
- "Save file as..."             "S"   #'write-file
- "Sudo find file"              "u"   #'doom/sudo-find-file
- "Sudo this file"              "U"   #'doom/sudo-this-file
- "Yank file path"              "y"   #'+default/yank-buffer-path
- "Yank file path from project" "Y"   #'+default/yank-buffer-path-relative-to-project)

*** <leader> g - git/version control

- "Revert file"                 "R"   #'vc-revert
- "Copy link to remote"         "y"   #'+vc/browse-at-remote-kill
- "Copy link to homepage"       "Y"   #'+vc/browse-at-remote-kill-homepage

:when :ui vc-gutter
- "Revert hunk"               "r"   #'git-gutter:revert-hunk
- "Git stage hunk"            "s"   #'git-gutter:stage-hunk
- "Git time machine"          "t"   #'git-timemachine-toggle
- "Jump to next hunk"         "]"   #'git-gutter:next-hunk
- "Jump to previous hunk"     "["   #'git-gutter:previous-hunk

_Magit:_
- "Magit dispatch"            "/"   #'magit-dispatch
- "Magit file dispatch"       "."   #'magit-file-dispatch
- "Forge dispatch"            "'"   #'forge-dispatch
- "Magit switch branch"       "b"   #'magit-branch-checkout
- "Magit status"              "g"   #'magit-status
- "Magit status here"         "G"   #'magit-status-here
- "Magit file delete"         "D"   #'magit-file-delete
- "Magit blame"               "B"   #'magit-blame-addition
- "Magit clone"               "C"   #'magit-clone
- "Magit fetch"               "F"   #'magit-fetch
- "Magit buffer log"          "L"   #'magit-log-buffer-file
- "Git stage file"            "S"   #'magit-stage-file
- "Git unstage file"          "U"   #'magit-unstage-file

**** :prefix ("f" . "find")
- "Find file"                 "f"   #'magit-find-file
- "Find gitconfig file"       "g"   #'magit-find-git-config-file
- "Find commit"               "c"   #'magit-show-commit

# "Find issue"                "i"   #'forge-visit-issue
# "Find pull request"         "p"   #'forge-visit-pullreq

**** :prefix ("o" . "open in browser")
- "Browse file or region"     "o"   #'+vc/browse-at-remote
- "Browse homepage"           "h"   #'+vc/browse-at-remote-homepage
- "Browse remote"             "r"   #'forge-browse-remote
- "Browse commit"             "c"   #'forge-browse-commit
- "Browse an issue"           "i"   #'forge-browse-issue
- "Browse a pull request"     "p"   #'forge-browse-pullreq
- "Browse issues"             "I"   #'forge-browse-issues
- "Browse pull requests"      "P"   #'forge-browse-pullreqs

**** :prefix ("l" . "list")
- "List repositories"         "r"   #'magit-list-repositories
- "List submodules"           "s"   #'magit-list-submodules
- "List issues"               "i"   #'forge-list-issues
- "List pull requests"        "p"   #'forge-list-pullreqs
- "List notifications"        "n"   #'forge-list-notifications

**** :prefix ("c" . "create")
"Initialize repo"           "r"   #'magit-init
"Clone repo"                "R"   #'magit-clone
"Commit"                    "c"   #'magit-commit-create
"Fixup"                     "f"   #'magit-commit-fixup
"Branch"                    "b"   #'magit-branch-and-checkout
# "Issue"                     "i"   #'forge-create-issue
# "Pull request"              "p"   #'forge-create-pullreq)

*** <leader> i - insert

- "Current file name"             "f"   #'+default/insert-file-path
- "Current file path"             "F"   (cmd!! #'+default/insert-file-path t)
- "Evil ex path"                  "p"   (cmd! (evil-ex "R!echo "))
- "From evil register"            "r"   #'evil-ex-registers
- "Snippet"                       "s"   #'yas-insert-snippet
- "Unicode"                       "u"   #'insert-char
- "From clipboard"                "y"   #'+default/yank-pop

*** <leader> n - notes

- "Search notes for symbol"      "*" #'+default/search-notes-for-symbol-at-point
- "Org agenda"                   "a" #'org-agenda
- "Toggle last org-clock"        "c" #'+org/toggle-last-clock
- "Cancel current org-clock"     "C" #'org-clock-cancel

# (:when (featurep! :lang org +noter)
# :desc "Org noter"                  "e" #'org-noter)

- "Find file in notes"           "f" #'+default/find-in-notes
- "Browse notes"                 "F" #'+default/browse-notes
- "Org store link"               "l" #'org-store-link
- "Tags search"                  "m" #'org-tags-view
- "Org capture"                  "n" #'org-capture
- "Goto capture"                 "N" #'org-capture-goto-target
- "Active org-clock"             "o" #'org-clock-goto
- "Todo list"                    "t" #'org-todo-list
- "Search notes"                 "s" #'+default/org-notes-search
- "Search org agenda headlines"  "S" #'+default/org-notes-headlines

# TODO: what is this command below actually doing?:
- "View search"                  "v" #'org-search-view
- "Org export to clipboard"        "y" #'+org/export-to-clipboard
- "Org export to clipboard as RTF" "Y" #'+org/export-to-clipboard-as-rich-text

org +journal (prefix 'j'):
- "New Entry"           "j" #'org-journal-new-entry
- "New Scheduled Entry" "J" #'org-journal-new-scheduled-entry
- "Search Forever"      "s" #'org-journal-search-forever))

# org +roam2:
# (:prefix ("r" . "roam"):
# "Open random node"           "a" #'org-roam-node-random
# "Find node"                  "f" #'org-roam-node-find
# "Find ref"                   "F" #'org-roam-ref-find
# "Show graph"                 "g" #'org-roam-graph
# "Insert node"                "i" #'org-roam-node-insert
# "Capture to node"            "n" #'org-roam-capture
# "Toggle roam buffer"         "r" #'org-roam-buffer-toggle
# "Launch roam buffer"         "R" #'org-roam-buffer-display-dedicated
# "Sync database"              "s" #'org-roam-db-sync

# (:prefix ("d" . "by date")
# "Goto previous note"        "b" #'org-roam-dailies-goto-previous-note
# "Goto date"                 "d" #'org-roam-dailies-goto-date
# "Capture date"              "D" #'org-roam-dailies-capture-date
# "Goto next note"            "f" #'org-roam-dailies-goto-next-note
# "Goto tomorrow"             "m" #'org-roam-dailies-goto-tomorrow
# "Capture tomorrow"          "M" #'org-roam-dailies-capture-tomorrow
# "Capture today"             "n" #'org-roam-dailies-capture-today
# "Goto today"                "t" #'org-roam-dailies-goto-today
# "Capture today"             "T" #'org-roam-dailies-capture-today
# "Goto yesterday"            "y" #'org-roam-dailies-goto-yesterday
# "Capture yesterday"         "Y" #'org-roam-dailies-capture-yesterday
# "Find directory"            "-" #'org-roam-dailies-find-directory)))

*** <leader> o - open

- "Org agenda"       "A"  #'org-agenda
- "Default browser"    "b"  #'browse-url-of-file
- "Start debugger"     "d"  #'+debugger/start
- "New frame"          "f"  #'make-frame
- "Select frame"       "F"  #'select-frame-by-name
- "REPL"               "r"  #'+eval/open-repl-other-window
- "REPL (same window)" "R"  #'+eval/open-repl-same-window
- "Dired"              "-"  #'dired-jump

prefix ("a" . "org agenda"):
- "Agenda"         "a"  #'org-agenda
- "Todo list"      "t"  #'org-todo-list
- "Tags search"    "m"  #'org-tags-view
- "View search"    "v"  #'org-search-view

treemacs:
- "Project sidebar" "p" #'+treemacs/toggle
- "Find file in project sidebar" "P" #'treemacs-find-file)

vterm:
- "Toggle vterm popup"    "t" #'+vterm/toggle
- "Open vterm here"       "T" #'+vterm/here)

# (:when (featurep! :email mu4e)
# "mu4e" "m" #'=mu4e)

*** <leader> p - project

- "Browse project"               "." #'+default/browse-project
- "Browse other project"         ">" #'doom/browse-in-other-project
- "Run cmd in project root"      "!" #'projectile-run-shell-command-in-root
- "Async cmd in project root"    "&" #'projectile-run-async-shell-command-in-root
- "Add new project"              "a" #'projectile-add-known-project
- "Switch to project buffer"     "b" #'projectile-switch-to-buffer
- "Compile in project"           "c" #'projectile-compile-project
- "Repeat last command"          "C" #'projectile-repeat-last-command
- "Remove known project"         "d" #'projectile-remove-known-project
- "Discover projects in folder"  "D" #'+default/discover-projects
- "Edit project .dir-locals"     "e" #'projectile-edit-dir-locals
- "Find file in project"         "f" #'projectile-find-file
- "Find file in other project"   "F" #'doom/find-file-in-other-project
- "Configure project"            "g" #'projectile-configure-project
- "Invalidate project cache"     "i" #'projectile-invalidate-cache
- "Kill project buffers"         "k" #'projectile-kill-buffers
- "Find other file"              "o" #'projectile-find-other-file
- "Switch project"               "p" #'projectile-switch-project
- "Find recent project files"    "r" #'projectile-recentf
- "Run project"                  "R" #'projectile-run-project
- "Save project files"           "s" #'projectile-save-project-buffers
- "List project todos"           "t" #'magit-todos-list
- "Test project"                 "T" #'projectile-test-project
- "Pop up scratch buffer"        "x" #'doom/open-project-scratch-buffer
- "Switch to scratch buffer"     "X" #'doom/switch-to-project-scratch-buffer

*** <leader> q - quit/session

- "Restart emacs server"         "d" #'+default/restart-server
- "Delete frame"                 "f" #'delete-frame
- "Clear current frame"          "F" #'doom/kill-all-buffers
- "Kill Emacs (and daemon)"      "K" #'save-buffers-kill-emacs
- "Quit Emacs"                   "q" #'save-buffers-kill-terminal
- "Quit Emacs without saving"    "Q" #'evil-quit-all-with-error-code
- "Quick save current session"   "s" #'doom/quicksave-session
- "Restore last session"         "l" #'doom/quickload-session
- "Save session to file"         "S" #'doom/save-session
- "Restore session from file"    "L" #'doom/load-session
- "Restart & restore Emacs"      "r" #'doom/restart-and-restore
- "Restart Emacs"                "R" #'doom/restart

*** <leader> s - search

- "Search buffer"                "b"
- "Search all open buffers"      "B"
- "Search current directory"     "d" #'+default/search-cwd
- "Search other directory"       "D" #'+default/search-other-cwd
- "Search .emacs.d"              "e" #'+default/search-emacsd
- "Locate file"                  "f" #'locate
- "Jump to symbol"               "i" #'imenu
- "Jump to visible link"         "l" #'link-hint-open-link
- "Jump to link"                 "L" #'ffap-menu
- "Jump list"                    "j" #'evil-show-jumps
- "Jump to bookmark"             "m" #'bookmark-jump
- "Look up online"               "o" #'+lookup/online
- "Look up online (w/ prompt)"   "O" #'+lookup/online-select
- "Look up in local docsets"     "k" #'+lookup/in-docsets
- "Look up in all docsets"       "K" #'+lookup/in-all-docsets
- "Search project"               "p" #'+default/search-project
- "Search other project"         "P" #'+default/search-other-project
- "Jump to mark"                 "r" #'evil-show-marks
- "Search buffer"                "s" #'+default/search-buffer
- "Search buffer for thing at point" "S"
- "Dictionary"                   "t" #'+lookup/dictionary-definition
- "Thesaurus"                    "T" #'+lookup/synonyms)

*** <leader> w - window

"C-u/r"     #'winner-undo/redo

;; Navigation
- "h/j/k/l"     #'evil-window-left/down...
- "w"     #'other-window

;; Extra split commands
- "S"       #'+evil/window-split-and-follow
- "V"       #'+evil/window-vsplit-and-follow

;; Swapping windows
- "H/J/K/L"       #'+evil/window-move-left/down...
- "C-S-w"   #'ace-swap-window

prefix "m"
- "m"       #'doom/window-maximize-buffer
- "v"       #'doom/window-maximize-vertically
- "s"       #'doom/window-maximize-horizontally

;; Delete window
- "d"       #'evil-window-delete
- "C-C"     #'ace-delete-window
- "T"       #'tear-off-window

*** <leader> t - toggle

- "Big mode"                     "b" #'doom-big-font-mode
- "Fill Column Indicator"        "c" #'global-display-fill-column-indicator-mode
- "Flymake"                      "f" #'flycheck-mode
- "Frame fullscreen"             "F" #'toggle-frame-fullscreen
- "Evil goggles"                 "g" #'evil-goggles-mode
- "Indent style"                 "I" #'doom/toggle-indent-style
- "Line numbers"                 "l" #'doom/toggle-line-numbers
- "Read-only mode"               "r" #'read-only-mode
- "Spell checker"              "s" #'spell-fu-mode)
- "Soft line wrapping"           "w" #'visual-line-mode

indent-guides:
- "Indent guides"              "i" #'highlight-indent-guides-mode

# :when (featurep! :editor word-wrap)
#  "Soft line wrapping"         "w" #'+word-wrap-mode

zen:
- "Zen mode"                   "z" #'+zen/toggle
- "Zen mode (fullscreen)"      "Z" #'+zen/toggle-fullscreen

*** APPs
**** <leader> M - mu4e
- "Open email app" "M" #'=mu4e
- "Compose email"  "c" #'+mu4e/compose)

**** <leader> I - IRC

- "Open irc app"       "I" #'=irc
- "Next unread buffer" "a" #'tracking-next-buffer
- "Quit irc"           "q" #'+irc/quit
- "Reconnect all"      "r" #'circe-reconnect-all
- "Send message"       "s" #'+irc/send-message
- "Jump to channel"  "j" #'+irc/vertico-jump-to-channel

*** Other for now not used stuff presented in that source file

~C-f~ for /remote/ in source file - ssh utility

** ported from [[https://github.com/tpope/vim-unimpaired][vim-unimpaired]]

Complementary pairs of mappings:
- :n  ~] SPC~ / ~[ SPC~  #'+evil/insert-newline-below/above
- :n  ~]b~ / ~[b~   #'next-buffer / 'previous-buffer
- :n  ~]f~ / ~[f~   #'+evil/next-file / '+evil/previous-file
- :m  ~]u~ / ~[u~   #'+evil:url-encode / '+evil:url-decode
- :m  ~]y~ / ~[y~   #'+evil:c-string-encode / '+evil:c-string-decode

(:when (featurep! :lang web)
- :m ~]x~ / ~[x~  #'+web:encode-html-entities / '+web:decode-html-entities)

(:when (featurep! :ui vc-gutter)
- :m ~]d~ / ~[d~  #'git-gutter:next-hunk / 'git-gutter:previous-hunk)

(:when (featurep! :ui hl-todo)
- :m ~]t~ / ~[t~  #'hl-todo-next / 'hl-todo-previous)

(:when (featurep! :ui workspaces)
- :n ~gt~ / ~gT~  #'+workspace:switch-next / '+workspace:switch-previous
- :n ~]w~ / ~[w~  #'+workspace/switch-right / '+workspace/switch-left)

Custom vim-unmpaired-esque keys:
- :m  ~]#~ / ~[#~   #'+evil/next/prev-preproc-directive
- :m  ~]a~ / ~[a~   #'evil-forward-arg / 'evil-backward-arg
- :m  ~]c~ / ~[c~   #'+evil/next-comment / '+evil/previous-comment
- :m  ~]e~ / ~[e~   #'next-error / 'previous-error
- :n  ~]F~ / ~[F~   #'+evil/next-frame / '+evil/previous-frame
- :m  ~]h~ / ~[h~   #'outline-next/prev-visible-heading
- :m  ~]m~ / ~[m~   #'+evil/next/prev-beginning-of-method
- :m  ~]M~ / ~[M~   #'+evil/next-end-of-method / '+evil/previous-end-of-method
- :n  ~[o~ / ~]o~   #'+evil/insert-newline-above / '+evil/insert-newline-below
- :n  ~gp~   #'+evil/reselect-paste / '+evil/alt-paste
- :v  "gp" #'+evil/paste-preserve-register
- :n  "gQ" #'+format:region
- :v  "@"  #'+evil:apply-macro
- :nv "g@"    #'+evil:apply-macro
- :nv "gc"    #'evilnc-comment-operator
- :nv "gO"    #'imenu
- :nv "gx"    #'evil-exchange
- :nv "gy"    #'+evil:yank-unindented
- :n  ~g=~ / ~g-~   #'evil-numbers/inc/dec-at-pt
- :v  ~g=~ / ~g-~   #'evil-numbers/inc/dec-at-pt-incremental
- :v  "g+"    #'evil-numbers/inc-at-pt

Other stuff:
- (:after helpful :n "gr" #'helpful-update)
- (:after compile :n "gr" #'recompile)
- (:after dired :n "gr" #'revert-buffer)

* Packages
** git [[file:~/.emacs.d/modules/tools/magit/README.org::*Plugins][#plugins]]
- [[https://magit.vc/manual/forge/][forge]] - [[https://www.youtube.com/watch?v=fFuf3hExF5w&list=PLhXZp00uXBk4np17N39WvB80zgxlZfVwj&index=20][quick vid tut]]
- [[https://github.com/emacsmirror/git-timemachine][git-timemachine]] - view file =x= time ago; ~SPC h b b timemachine~ for kbds. ~SPC g
  t~ to toggle mode.

[[https://github.com/rmuslimov/browse-at-remote][browse at remote]] - easiest way to open particular link on
github/gitlab/bitbucket/stash/git.savannah.gnu.org/sourcehut from Emacs:
- ~SPC g Y~ - Copy homepage URL of current project to clipboard.
- ~SPC g y~ - Copy URL to current file (and line if selection is active) to
  clipboard.
- ~SPC g o h~ - Open homepage for current project in browser.
- ~SPC g o o~ - Open URL to current file (and line if selection is active) in
  browser

*magit-gitflow* - [[https://github.com/petervanderdoes/gitflow-avh][gitflow]] plugin for magit.el; Press ~%~ in magit status buffer and
you will be presented with the gitflow popup menu

** evil [[file:~/.emacs.d/modules/editor/evil/README.org::*Features][#features]]
[[https://github.com/emacs-evil/evil-collection][evil-collection]] - plugin used as a foundation for flag =+everywhere=, which
enables evilified keybinds everywhere possible.

[[https://github.com/emacs-evil/evil-surround#usage][evil-surround]] - ~ys~, ~cs~, ~ds~ .. Also:
- :v "S" #'evil-surround-region
- :o "s" #'evil-surround-edit
- :o "S" #'evil-Surround-edit

[[https://github.com/hlissner/evil-multiedit#usage][evil-multiedit]] - ~M-d / D~ , ~RET~ to exclude, ~C-M-D~ to restore last group. Ex
command that allows to invoke evil-multiedit with a regular expression -
=ie[dit]=. There is also a [[https://www.youtube.com/watch?v=zXdT5jY_ui0&list=PLhXZp00uXBk4np17N39WvB80zgxlZfVwj&index=8][quick vid tut]]. Also ~R~ - #'evil-multiedit-match-all.

_evil-mc_ - ~gz~ prefix. Which-key available, so u can c which kbds r there. Or ~SPC
h b b~ -> /evil-mc/... Or:
- ~d/D~ - #'evil-mc-make-and-goto-next/prev-match
- ~j/k~ - #'evil-mc-make-cursor-move-next/prev-line
- ~m~ - #'evil-mc-make-all-cursors
- ~n/N~ - #'evil-mc-make-and-goto-next/last-cursor
- ~p/P~ - #'evil-mc-make-and-goto-prev/first-cursor
- ~q~ - #'evil-mc-undo-all-cursors
- ~t~ - #'+multiple-cursors/evil-mc-toggle-cursors
- ~u~ - #'+multiple-cursors/evil-mc-undo-cursor
- ~z~ - #'+multiple-cursors/evil-mc-toggle-cursor-here
- ~I~ - #'evil-mc-make-cursor-in-visual-selection-beg
- ~A~ - #'evil-mc-make-cursor-in-visual-selection-end

_evil-nerd-commenter_ - comment any viable /text objects/ (below). ~gc {motion}~
Inobvious keys after it:
- l/c - line
- r - region
- . - ? -- evilnc-copy-and-comment-operator ?
- \ - comment current line and enter insert mode on point

[[https://github.com/edkolev/evil-lion#usage][evil-lion]] - allows to align text by some CHAR; ~gl/L {motion} {char}~

evil-numbers - works like C-a/C-x in vim, but here it is ~g-/g=~

evil-exchange - ~gx {motion}~ - exchange two regions with evil motion

[[file:~/.emacs.d/modules/editor/evil/README.org::*Custom Text Objects][Custom Text Objects]]

*** [[https://github.com/PythonNut/evil-easymotion][evil-easymotion]] ~gs..~ [[https://www.youtube.com/watch?v=zar4GsOBU0g&list=PLhXZp00uXBk4np17N39WvB80zgxlZfVwj&index=8][#vid]]
Just ~gs spc / /~

When given a selection type ~?~ to see possible command modifier /(kill-move,
kill-stay, teleport, mark, yank ...)/.

=evilem-motion..= - *#nftbew,  kj gj gk
- -/+   :: previous/next-*line*-first-*non-blank*
- )/(   :: forward/backward-*sentence*-begin
- ][    :: forward-*section*-end
- ]]    :: forward-*section*-begin
- []    :: backward-*section*-end
- [[    :: backward-*section*-begin
- s     :: goto-*char-2*
- g k/j :: previous/next-*visual-line*
- g e/E :: backward-*word/WORD-end*
- a/A   :: forward/backward-*arg*

** Development

- [[https://github.com/emacs-lsp/lsp-mode][lsp]] - [[https://emacs-lsp.github.io/lsp-mode/tutorials/CPP-guide/][tutorial]], ~SPC c l~ - prefix ([[file:~/.emacs.d/modules/tools/lsp/README.org::*Features][lsp doom features]]).

[[https://github.com/hlissner/doom-snippets][snippets and how to use / write them]]
- :i  [C-tab] #'aya-expand
- :nv [C-tab] #'aya-create

*** JS [[file:~/.emacs.d/modules/lang/javascript/README.org::*Commands][#commands]] (js2-mode / tide / js2-refactor / skewer-mode / npm-mode)
*** eval [[file:~/.emacs.d/modules/tools/eval/README.org::*Features][#features]]

instead of opening console in all browser tabs...

- :nv "gr"  #'+eval:region
- :n  "gR" / ~M-r~ - #'+eval/buffer
- :v  "gR"  #'+eval:replace-region

*** lookup [[file:~/.emacs.d/modules/tools/lookup/README.org::*Features][#features]]

- :nv "K"   #'+lookup/documentation
- :nv "gd"  #'+lookup/definition
- :nv "gD"  #'+lookup/references
- :nv "gf"  #'+lookup/file
- :nv "gI"  #'+lookup/implementations
- :nv "gA"  #'+lookup/assignments

- K (+lookup/documentation)               - Show documentation for IDENTIFIER (defaults to sy...
- SPC s T (+lookup/synonyms)              - Look up and insert a synonym for the word at poin...
- SPC s t (+lookup/dictionary-definition) - Look up the definition of the word at point (or s...
- SPC s K (+lookup/in-all-docsets)        - TODO
- SPC s k (+lookup/in-docsets)            - Lookup QUERY in dash DOCSETS.
- SPC s O (+lookup/online-select)         - Run ‘+lookup/online’, but always prompt for the p...
- SPC s o (+lookup/online)                - Look up QUERY in the browser using PROVIDER.
- SPC c t (+lookup/type-definition)       - Jump to the type definition of IDENTIFIER (defaul...
- SPC c k (+lookup/documentation)         - Show documentation for IDENTIFIER (defaults to sy...
- SPC c i (+lookup/implementations)       - Jump to the implementations of IDENTIFIER (defaul...
- SPC c D (+lookup/references)            - Show a list of usages of IDENTIFIER (defaults to ...
- SPC c d (+lookup/definition)            - Jump to the definition of IDENTIFIER (defaults to...
- SPC h O (+lookup/online)                - Look up QUERY in the browser using PROVIDER.
*** hide / fold (hideshow mode)
This mode isn't enabled in all prog-modes.

- <S-mouse-2> (hs-toggle-hiding) - Toggle hiding/showing of a block.

~C-c @~ prefix:
- C-e/c (hs-toggle-hiding) - Toggle hiding/showing of a block.
- C-d/s (hs-hide-block) - Select a block and hide it.  With prefix arg...
- C-t / C-M-h (hs-hide-all) - Hide all top level blocks, displaying only f...
- C-a / C-M-s (hs-show-all) - Show everything then run ‘hs-show-hook’.  Se...
- C-l/h (hs-hide-level) - Hide all blocks ARG levels below this block.

There's also =hide-sublevels= command
*** Sh-script mode
- C-c C-\ :: backslash region
- C-c \ :: set shell type
- C-c C-x :: execute script
- C-M-x :: execute region
- C-c C-c :: case statement
- C-c C-f :: for loop
- C-c TAB :: if statement
- C-c C-s :: select statement
- C-c C-i :: indexed loop
- C-c C-o :: options loop
- C-c C-w :: while loop
- C-c C-r :: repeat loop
- C-c C-u :: until loop
- C-c + :: addition
- C-c { :: function
- C-c ' :: insert braces and quotes in pairs
- C-c = :: set indentation
- C-c ? :: show indentation
- C-c < :: learn line indentation
- C-c > :: learn buffer indentation

** Navigation
*** window-select [[file:~/.emacs.d/modules/ui/window-select/README.org::*Description][#description]] ~spc w w~
I'm using ace-window. Kill windows, move them around, split them and more by
using the dispatch keys. (Hit ~?~ to bring up the dispatch menu.)

*** [[file:~/.emacs.d/modules/ui/workspaces/README.org::*Commands & Keybindings][workspaces]] - besides =spc tab..= :
- ~C-t~   #'+workspace/new
- ~C-S-t~ / ~spc tab tab~ #'+workspace/display
- ~M-{number}~   #'+workspace/switch-to-{number}

*** dired [[file:~/.emacs.d/modules/emacs/dired/README.org::*Keybindings][#kbds]]
[[https://www.youtube.com/watch?v=oZSmlAAbmYs&list=PLhXZp00uXBk4np17N39WvB80zgxlZfVwj&index=3][short vid]]

Move with h, j, k, l, where h & l are 'up' & 'down' directory

- SPC f d - Find directory with dired
- C-c C-r - Run dired-rsync
- C-c C-e - Rename entries with wdired

-----

- ~M~ - change permissions
- ~o~ - sort by modes.
- ~O~ - change the owner.
- ~SPC .~ - create or find a file
- ~*~ - select all directories.
- ~C~ - copy to another window
- ~R~ - move to another window
- ~i~ - edit file/dir name
*** ranger [[https://github.com/ralesi/ranger.el#ranger-key-bindings][#kbds]]
+ *Basic Commands*
  - ? :: show basic commands in the minibuffer
  - du :: show selected files, file size
  - q / ZZ :: close tab or disable (quit) ranger
  - Q / ZQ :: disable (quit) ranger
  - C-r :: refresh ranger buffer
+ *Navigation*. hjkl, gg, G, C-b/f - same.
  - </> :: to previous/next directory
  - gh :: to home directory
  - K/C-u / J/C-d :: scroll ranger window half page up/down
  - C-k/j :: scroll preview window up/down
  - ]/[ :: next/previous parent directory
  - ;M-{ / ;M-} :: previous/next marked file / directory
+ *Search* for a File / Directory
  - f :: search for file / directory
+ *Copy, Rename/Move or Delete*. When the copy command is called by pressing ;C,
  and only a single file or directory is selected. Then a you'll be asked to
  enter a new name. However when it's called with multiple marked files /
  directories, then a you'll be asked for the path to the target directory.
  - ;C :: copy the current/marked file(s) / dir(s)
  - R :: rename/move the current/marked file(s) / dir(s)
  - D :: delete the current/marked file(s) / dir(s)
  - ;d :: flag current file/dir for deletion, and select next
  - ;x :: delete flagged file(s) / dir(s)
+ *Subdirectories*
  - I :: insert subdirectory from selected folder
  - gk/j :: move to prev/next subdirectory
+ *Marking*
  - t :: toggle mark on current file / directory
  - ;m/C-SPC/TAB :: mark current file / dir, and select next
  - ;u :: unmark current file / dir, and select next
  - ;U :: unmark all files
  - v :: invert all marks
  - " :: mark files (regexp)
+ *Sorting*. Capital 2nd letter for reverse sorting
  - on :: name
  - oe :: extension
  - os :: size
  - ot :: modified date/time
  - oc :: created date/time
  - zd :: sort directories first or last
+ *Toggles / Settings*
  - i :: toggle the preview window
  - zh :: toggle hidden files (e.g. dotfiles)
  - zi :: toggle literal / full-text previews
  - zf :: toggle image full-size / fit to window
  - zP :: toggle between full ranger / deer-mode
  - zp :: toggle file details in deer-mode
  - z-/+ :: reduce/increase number of parent windows
+ *Shell*
  - ! :: run shell command on file
  - ;& :: run async shell command on file
  - S :: eshell popup window
+ *Writable Dired Mode*. WDired mode changes the file listings buffer to editable
  text. This makes it easier to rename multiple files. Depending on the width of
  the Emacs frame. It might be useful to toggle off the preview window, by
  pressing: i. Before starting WDired mode. This leaves more room for editing
  the file names.
  - C-c C-e :: start WDired mode
  - C-c C-c/C-x C-s :: finish, rename changed file names, exit WDired mode
  - C-c C-k/C-c ESC :: abort, reverting any changes
  - C-x C-q :: exit, ask to save/revert modified file names
+ *Other*. (create dir, diff, revert, hide)
  - ;+/+ :: create directory
  - ;=/= :: diff: current file and asks for 2nd file
  - ;g :: revert current buffer, with file on disk
  - ;k :: kill (hide) marked lines, C-r to unhide

-----

+ *Bookmark Navigation*. By creating bookmarks with the name ranger-?, where ? can
  be any single key.
  - `/' :: go to bookmark
  - m :: set bookmark
  - um :: delete bookmark
  - B :: show the bookmarks prompt
+ *Tab and History Usage*.
  - gn :: create a new tab
  - gt/T :: go to next/previous tab
  - gc :: close current tab
  - uq :: restore the last closed tab
  - zz :: search through history
  - H/L :: history back/next
+ *Copy and Paste Functionality*.
  - yy :: mark files to copy
  - dd :: mark files to move
  - pp :: paste files in copy ring
  - po :: paste files in copy ring and overwrite existing
  - p? :: show the copy contents
+ *Selected File Actions*
  - ws/v :: exit ranger and open selected file in horizontal/vertical split
  - wf :: exit ranger and open selected file in new frame
  - we :: open the selected file in external app

*** ibuffer
*Important*: if any kbds doesn't work - call it from =emacs-state=!

+ *Marking*. ~m u U d~ - as expected, others:
  - ‘* c’ - *Change* all OLD marks to NEW marks.
  - ‘* m’ - Mark all *modified* buffers, regardless of whether they have an
    associated file.
  - ‘* M’ - Mark buffers *by major* mode.
  - ‘* u’ - Mark all "*unsaved*" buffers. This means that the buffer is modified,
    and has an associated file.
  - ‘* s’ - Mark all buffers whose name begins and ends with *‘*’*.
  - ‘* e’ - Mark all buffers which have an associated file, but that file
    doesn’t currently exist.
  - * z :: Mark buffers whose associated file is compressed.
  - ‘* r’ - Mark all *read-only* buffers.
  - ‘* /’ - Mark buffers in *‘dired-mode’*.
  - ‘* h’ - Mark buffers in ‘help-mode’, ‘apropos-mode’, etc.
  - . :: Mark buffers which have not been viewed in ‘ibuffer-old-time’ hours.
  - ‘d’ - Mark the buffer at point for *deletion*.
  - ‘% n/m/f/g’ - Mark buffers by name / major mode / filename / content, using
    a *regexp*.
  - % L :: Mark all locked buffers.
  - { / } - backwards/forwards-next-marked
  - t, M :: Toggle modification flag of marked buffers.
  - ~ - *toggle* marks
  - M-DEL, * * :: Unmark all buffers with mark MARK.
  - DEL :: Unmark the buffers in the region, or previous ARG buffers.
+ *Operations* on marked buffers:
  - ‘S’ - Save the marked buffers.
  - ‘A’ / g v - View the marked buffers in the selected frame.
  - ‘H’ - View the marked buffers in another frame.
  - ‘V’ - Revert the marked buffers.
  - ‘T’ - Toggle read-only state of marked buffers.
  - ‘L’ - Toggle lock state of marked buffers.
  - ‘D’ - Kill the marked buffers.
  - ‘M-s a C-s’ - Do incremental search in the marked buffers.
  - ‘M-s a C-M-s’ - Isearch for regexp in the marked buffers.
  - ‘r’ - Replace by regexp in each of the marked buffers.
  - <normal-state> R           do-rename-uniquely
  - ‘Q’ - Query replace in each of the marked buffers.
  - ‘I’ - As above, with a regular expression.
  - ‘P’ - Print the marked buffers.
  - ‘O’ - List lines in all marked buffers which match a given regexp (like the
    function ‘occur’).
  - M-s a C-o, O :: Uses ‘pdf-occur-search’, if appropriate.
  - ‘X’ - Pipe the contents of the marked buffers to a shell command.
  - ‘N’ - Replace the contents of the marked buffers with the output of a shell
  - !, F :: Run shell command COMMAND separately on files of marked buffers.
  - | :: Pipe the contents of each marked buffer to shell command COMMAND.
      command.
  - ‘E’ - Evaluate a form in each of the marked buffers. This is a very flexible
    command. For example, if you want to make all of the marked buffers
    read-only, try using (read-only-mode 1) as the input form.
  - ‘W’ - As above, but view each buffer while the form is evaluated.
  - ‘k’ - Remove the marked lines from the *Ibuffer* buffer, but don’t kill the
    associated buffer.
  - ‘x’ - Kill all buffers marked for deletion.
+ *Filtering* (call from =emacs-state=):
  - ‘/ SPC’ - Select and apply filter chosen by completion.
  - ‘/ RET’ - Add a filter by any major mode.
  - ‘/ m’ - Add a filter by a major mode now in use.
  - ‘/ M’ - Add a filter by derived mode.
  - ‘/ n’ - Add a filter by buffer name.
  - ‘/ c’ - Add a filter by buffer content.
  - ‘/ b’ - Add a filter by basename.
  - ‘/ F’ - Add a filter by directory name.
  - ‘/ f’ - Add a filter by filename.
  - ‘/ .’ - Add a filter by file extension.
  - ‘/ i’ - Add a filter by modified buffers.
  - ‘/ e’ - Add a filter by an arbitrary Lisp predicate.
  - ‘/ >’ - Add a filter by buffer size.
  - ‘/ <’ - Add a filter by buffer size.
  - ‘/ *’ - Add a filter by special buffers.
  - ‘/ v’ - Add a filter by buffers visiting files.
  - ‘/ s’ - Save the current filters with a name.
  - ‘/ r’ - Switch to previously saved filters.
  - ‘/ a’ - Add saved filters to current filters.
  - ‘/ &’ - Replace the top two filters with their logical AND.
  - ‘/ |’ - Replace the top two filters with their logical OR.
  - ‘/ p’ - Remove the top filter.
  - ‘/ !’ - Invert the logical sense of the top filter.
  - ‘/ d’ - Break down the topmost filter.
  - ‘/ /’ - Remove all filtering currently in effect.
+ *Filter group*:
  - ‘/ g’ - Create filter group from filters.
  - ‘/ P’ - Remove top filter group.
  - ‘TAB’ - Move to the next filter group.
  - ‘M-p’ - Move to the previous filter group.
  - ‘/ \’ - Remove all active filter groups.
  - ‘/ S’ - Save the current groups with a name.
  - ‘/ R’ - Restore previously saved groups.
  - ‘/ X’ - Delete previously saved groups.
  - g x :: Kill the filter group at point.
  - C-j / M-n / ]] / TAB         forward-filter-group
  - C-k / M-p / [[        backward-filter-group
  - M-j :: Move point to the filter group whose name is NAME.
  - s D         decompose-filter-group
+ *Sorting*:
  - ‘,’ - Rotate between the various sorting modes.
  - ‘o i’ - Reverse the current sorting order.
  - ‘o a’ - Sort the buffers lexicographically.
  - ‘o f’ - Sort the buffers by the file name.
  - ‘o v’ - Sort the buffers by last viewing time.
  - ‘o s’ - Sort the buffers by size.
  - ‘o m’ - Sort the buffers by major mode.
+ Other commands:
  - ‘g’ - Regenerate the list of all buffers. Prefix arg means to toggle whether buffers that match ‘ibuffer-maybe-show-predicates’ should be displayed.
  - ‘C-c C-a’ - Toggle automatic updates.
  - ‘`’ - Change the current display format.
  - M-g, J :: Move point to the buffer whose name is NAME.
  - ‘SPC’ - Move point to the next line.
  - ‘C-p’ - Move point to the previous line.
  - ‘h’ - This help.
  - ‘=’ - View the differences between this buffer and its associated file.
  - <normal-state> g o         visit-buffer-other-window
  - <normal-state> C-o         visit-buffer-other-window-noselect
  - C-x 5 RET :: Visit the buffer on this line in another frame.
  - M-o :: Visit the buffer on this line, and delete other windows.
  - C-t :: Visit the tags table in the buffer on this line.  See ‘visit-tags-table’.
  - X :: Bury the buffer on this line.
  - y b :: Copy buffer names of marked (or next ARG) buffers into the kill ring.
  - y f :: Copy filenames of marked (or next ARG) buffers into the kill ring.
  - - :: Add REGEXP to ‘ibuffer-tmp-hide-regexps’.
  - + :: Add REGEXP to ‘ibuffer-tmp-show-regexps’.
  - g v :: do-view
  - C-x v, g V :: As ‘ibuffer-do-view’, but split windows horizontally.

\** Information on Filtering:

You can filter your Ibuffer view via different criteria.  Each Ibuffer
buffer has its own stack of active filters.  For example, suppose you
are working on an Emacs Lisp project.  You can create an Ibuffer
buffer displaying only ‘emacs-lisp-mode’ buffers via
‘/ RET emacs-lisp-mode RET’.  In this case, there
is just one entry on the filtering stack.

You can also combine filters.  The various filtering commands push a
new filter onto the stack, and the filters combine to show just
buffers which satisfy ALL criteria on the stack.  For example, suppose
you only want to see buffers in ‘emacs-lisp-mode’, whose names begin
with "gnus".  You can accomplish this via:

  / RET emacs-lisp-mode RET
  / n ^gnus RET

Additionally, you can OR the top two filters together with
‘M-x ibuffer-or-filters’.  To see all buffers in either
‘emacs-lisp-mode’ or ‘lisp-interaction-mode’, type:

  / RET emacs-lisp-mode RET
  / RET lisp-interaction-mode RET
  M-x ibuffer-or-filters

Filters can also be saved and restored using mnemonic names: see the
functions ‘ibuffer-save-filters’ and ‘ibuffer-switch-to-saved-filters’.

To remove the top filter on the stack, use ‘/ p’, and
to disable all filtering currently in effect, use
‘/ /’.


\** Filter Groups:

Once one has mastered filters, the next logical step up is "filter
groups".  A filter group is basically a named group of buffers which
match a filter, which are displayed together in an Ibuffer buffer.  To
create a filter group, simply use the regular functions to create a
filter, and then type ‘/ g’.

A quick example will make things clearer.  Suppose that one wants to
group all of one’s Emacs Lisp buffers together.  To do this, type:

  / RET emacs-lisp-mode RET
  / g emacs lisp buffers RET

You may, of course, name the group whatever you want; it doesn’t have
to be "emacs lisp buffers".  Filter groups may be composed of any
arbitrary combination of filters.

Just like filters themselves, filter groups act as a stack.  Buffers
will not be displayed multiple times if they would be included in
multiple filter groups; instead, the first filter group is used.  The
filter groups are displayed in this order of precedence.

You may rearrange filter groups by using the usual pair
‘C-k’ and ‘C-y’.  Yanked groups
will be inserted before the group at point.

In addition to any hooks its parent mode ‘special-mode’ might have
run, this mode runs the hook ‘ibuffer-mode-hook’, as the final or
penultimate step during initialization.

Other commands for this mode, not bound to any keys:

`help-customize'
`help-goto-info'
`help-goto-next-page'
`help-goto-previous-page'
`help-view-source'


** Completion

~M-/~ - #'dabbrev-expand - Expand previous word "dynamically".

*** company [[file:~/.emacs.d/modules/completion/company/README.org::*Code completion][#Code completion]] ~C-SPC~ to trigger completion.

~C-SPC/@~ - (cmds! (not (minibufferp)) #'company-complete-common)

=:map company-active-map=:
# "C-w"     nil  ; don't interfere with `evil-delete-backward-word'
- ~C-n/p~ / ~C-j/k~ - #'company-select-next/previous
- ~C-h~   -         #'company-show-doc-buffer
- ~C-u/d~ -         #'company-previous/next-page
- ~C-s~   -         #'company-filter-candidates
- ~C-S-s~ - (cond ((featurep! :completion vertico)  #'completion-at-point)
- ~C-SPC~     #'company-complete-common
- ~TAB~       #'company-complete-common-or-cycle
- [backtab] #'company-select-previous
- ~C-s~       #'company-filter-candidates (=company-search-map=)

Omni-completion :prefix "C-x":
- :i "C-l"    #'+company/whole-lines
- :i "C-k"    #'+company/dict-or-keywords
- :i "C-f"    #'company-files
- :i "C-]"    #'company-etags
- :i "s"      #'company-ispell
- :i "C-s"    #'company-yasnippet
- :i "C-o"    #'company-capf
- :i "C-n"    #'+company/dabbrev
- :i "C-p"    #'+company/dabbrev-code-previous

*** vertico [[file:~/.emacs.d/modules/completion/vertico/README.org::*Vertico keybindings][#kbds]]

- ~M-RET~   - #'vertico-exit-input
- ~C-SPC~   - #'+vertico/embark-preview
- ~C-j/k~   - #'vertico-next/previous
- ~C-M-j/k~ - #'vertico-next/previous-group
# embark - Emacs Mini-Buffer Actions Rooted in Keymaps (spc h i)
- =C-;= or =<leader> a= - Open an ~embark-act~ menu to chose a useful action
- =C-c C-;= - export the current candidate list to a buffer
- C-c C-e - export to writable buffer (to replace multiple occurences)

| Input        | Description                              |
|--------------+------------------------------------------|
| =!foo=         | match without literal input =foo=          |
| =%foo= or =foo%= | perform ~char-fold-to-regexp~ on input =foo= |
| =`foo= or =foo`= | match input =foo= as an initialism         |
| ==foo= or =foo== | match only with literal input =foo=        |
| =~foo= or =foo~= | match input =foo= with fuzzy/flex matching |

*** syntax [[file:~/.emacs.d/modules/checkers/syntax/README.org::*Features][#flycheck-features]]

Most of flycheck's features are under =C-c !=, regardless of whether evil mode is
used.

Evil Specific:
- SPC t f - Toggle Flycheck
- SPC c x - List errors
- ] e     - Next error
- [ e     - Prevous error

*** spell (dictionary) [[file:~/.emacs.d/modules/checkers/spell/README.org::+TITLE: checkers/spell][#source]] [[https://gitlab.com/ideasman42/emacs-spell-fu][spell-fu]]

Flycheck might be slow and won't be running automatically as of emacs 28, that's
why i use default option - /spell-fu/.

Dictionary is set by =ispell-dictionary= variable. Can be changed locally with the
function =ispell-change-dictionary=.

For now i removed spell from my init & config files cuz don't need those.
Settings i used (besides having /aspell, aspell-en, aspell-ru/ installed on pc):
#+begin_src elisp
(after! spell-fu
  (setq spell-fu-idle-delay 0.5))  ; default is 0.25
(setq-default ispell-dictionary "en")
#+end_src

Evil already defines 'z=' to `ispell-word' = correct word at point

- :n  "zg"   #'+spell/add-word
- :n  "zw"   #'+spell/remove-word
- :m  "[s"   #'+spell/previous-error
- :m  "]s"   #'+spell/next-error)

** Info
#+begin_comment
Info files are created from Texinfo source files. You can use the same source
file to make a printed manual or produce other formats, such as HTML and
DocBook.

The ‘makeinfo’ command converts a Texinfo file into an Info file;
‘texinfo-format-region’ and ‘texinfo-format-buffer’ are GNU Emacs functions that
do the same.
#+end_comment

~SPC h i~ (info) - Enter Info, the documentation browser. _Numeric prefix_ to this
command switches / creates Info buffer with that number. (They r *independent*)

~M-h~ (Info-help) - Enter the Info tutorial.

~g ?~ (Info-summary) - Display a brief summary of all Info commands.

_Basics:_
- ~g k/j~ or ~C-k/j~ (Info-prev/next) - Go to the "previous/next" node, but C-k/j
  also counts nesting.
- ~g [ / ]~ or ~TAB / S-TAB~ (Info-prev/next-reference) - Move cursor to the
  previous/next cross-reference (link)
- ~g m~ (Info-menu) - Go to the node pointed to by the menu item.
- ~u~ (Info-up) - Go to the superior node of this node.
- ~C-o/t~ (Info-history-back) - Go back in the history
- ~TAB~ (Info-history-forward) - Go forward in the history (_doesn't work_)
- ~i~ (*Info-index*) - You can get to the index from the main menu of the file with
  the ‘m’ command and the name of the index node; then you can use the ‘m’
  command again in the index node to go to the node that describes the topic you
  want. ~i~ is just a short-cut, which does all of that for u. It searches the
  index for a given topic (a string) and goes to the node which is listed in the
  index for that topic. *Very powerful command, lets u get info on any
  'mode'-related thing*.
- ~I~ (Info-virtual-index) - behaves like ‘i’, but constructs a virtual info node
  displaying the results of an index search, making it easier to select the one
  you want.
- ~g L~ (Info-history) - Go to a node with a menu of visited nodes.
- ~d~ (Info-directory) - Go to the Info directory node. Which is the first one you
  saw when you entered Info, has a menu which leads (directly or indirectly,
  through other menus)
- ~g t~ (Info-top-node) - command moves to the ‘Top’ node of the *manual*.
- ~g T~ (Info-toc) - Go to a node with table of contents of the c...

_Advanced:_
- ~a~ (info-apropos) - If you aren’t sure which manual documents the topic you are
  looking for. It prompts for a string and then looks up that string in *all* the
  indices of *all* the Info documents installed on your system.
- ~g G~ (Info-goto-node) - If you know a node’s name, you can go there using this
  command. ~gTop<RET>~ is same as ~g t~ (info-top-node).
- ~g 1..9~ (Info-nth-menu-item) - Go to the node of the Nth menu item. They are
  short for the ‘m’ command together with a name of a menu subtopic.
- ~M-n~ (clone-buffer) - creates a new *independent* Info buffer. The new buffer
  starts out as an exact copy of the old one, but you will be able to move
  independently between nodes in the two buffers.
- ~SPC h 4 i~ (info-other-window) - Like ‘info’ but show the Info buffer in
  anoter window

#+CAPTION: produce new Info buffers
#+begin_comment
In Emacs Info, you can also produce new Info buffers by giving a numeric prefix
argument to the ‘m’ and ‘g’ commands. ‘C-u m’ and ‘C-u g’ go to a new node in
exactly the same way that ‘m’ and ‘g’ do, but they do so in a new Info buffer
which they select in another window.

Or use a numeric prefix argument for the ‘C-h i’ command (‘info’) which switches
to the Info buffer with that number. Thus, ‘C-u 2 C-h i’ switches to the buffer
‘*info*<2>’, creating it if necessary.
#+end_comment

To look up Info-mode _variables_ go ~SPC h i~ -> ~g m~ -> Info -> ~g G Variables~

- ~f~ :: following cross reference (part 1.7 of ~M-h~)
- f? :: list all references in cur. node
** Embark [[https://github.com/oantolin/embark/wiki/Default-Actions][#default-actions]]
*Emacs Mini-Buffer Actions Rooted in Keymaps*

Thing that allows u to:
- Insert a minibuffer candidate into the buffer (~i~)
- Visit a package’s URL from the minibuffer (~C-h p {package}~ -> ~spc ; u~)
- Add a keybinding for a command name from anywhere it appears: ~spc a~ on
  =dired-jump= -> l (set local kbd (globally is also there))
- Export buffer candidates to ibuffer (~spc ,~ -> ~spc ; E~), same with files &
  variables.
- Export grep or line candidates to a grep buffer: ~{any seach cmd}~ ->
  =embark-export= (~E~) -> ~C-c C-f~ to turn on 'follow on point'

*** Acting on targets
This package provides a sort of right-click contextual menu for Emacs, accessed
through the ‘embark-act’ command (which you should bind to a convenient key),
offering you relevant _actions_ to use on a _target_ determined by the context:

- In the *minibuffer*, the target is the current top completion candidate.
- In the *Completions* buffer the target is the completion at point.
- In a *regular buffer*, the target is the region if active, or else the file,
  symbol, URL, s-expression or defun at point.

Multiple *targets* can be present at the same location and you can *cycle* between
them by repeating the ‘embark-act’ key binding.

Embark behaviors are configurable via the variable =embark-indicators=. Instead
of selecting an action via its key binding, you can select it by name with
completion by typing ‘C-h’ after ‘embark-act’.

*Configuring* which actions are offered for a *type*: =embark-keymap-alist=
associates target types with variables containing keymaps, and those keymaps
containing bindings for the actions.

#+NAME: For example
#+begin_comment
In the default configuration the type ‘file’ is associated with the symbol
‘embark-file-map’. That symbol names a keymap with single-letter key bindings
for common Emacs file commands, for instance ‘c’ is bound to ‘copy-file’. This
means that if you are in the minibuffer after running a command that prompts for
a file, such as ‘find-file’ or ‘rename-file’, you can copy a file by running
‘embark-act’ and then pressing ‘c’.
#+end_comment

These action keymaps are very convenient but not strictly necessary when using
‘embark-act’: you can use any command that reads from the minibuffer as an
action and the target of the action will be inserted at the first minibuffer
prompt. After running ‘embark-act’ all of your key bindings and even
=‘execute-extended-command’= can be used to run a command. _For example_, if you
want to replace all occurrences of the symbol at point, just use ‘M-%’ as the
action, there is no need to bind ‘query-replace’ in one of Embark’s keymaps.

The *actions* in =embark-general-map= are available always. By *default* this includes
*bindings* to save the current candidate in the kill ring and to insert the
current candidate in the target buffer.

Emacs commands often do not set useful category metadata so the Marginalia
(https://github.com/minad/marginalia) package, which supplies this missing
metadata, is highly recommended for use with Embark.

~embark-act RET~ usually runs the *default* action on target (in minibuffer - first
candidate, in buffer - default action bound to 'RET' keymap (like /browse-url/ on
links))

~embark-dwim~ runs *default* action for 1st target found (handy in non-minibuffers).
Default behaviour is:
- Open the file at point.
- Open the URL at point in a web browser (using the ‘browse-url’ command).
- Compose a new email to the email address at point.
- In an Emacs Lisp buffer, if point is on an opening parenthesis or right after
  a closing one, it will evaluate the corresponding expression.
- Go to the definition of an Emacs Lisp function, variable or macro at point.
- Find the file corresponding to an Emacs Lisp library at point.

In *Embark Actions* buffer (embark's /Which-key/) you can scroll that buffer with
_usual_ ~C-M-(S-)v~ - =scroll-other-window(-down)=

By default Doom uses =embark-which-key-indicator=, but embark comes with its own
indicators, which u can look up in embark's /Info -> 3.1 Showing ../

~C-h~ =embark-help-key= (after =embark-act=) - will prompt you for the name of an
action with completion (but feel free to enter a command that is not among the
offered candidates!). You can press ‘embark-keymap-prompter-key’, which is ‘@’
by default, at the prompt and then one of the key bindings to enter the name of
the corresponding action.

*** Working with sets of possible targets (~collect~ / ~export~)
- ~S~ =embark-collect-snapshot= - produces a buffer listing all the current
  candidates.
- ~E~ =embark-export= - command tries to open a buffer in an appropriate major mode
  for the set of candidates. If the candidates are files export produces a Dired
  buffer; if they are buffers, you get an Ibuffer buffer; and if they are
  packages you get a buffer in package menu mode.

#+NAME: embark-consult (for wgrep mostly)
#+begin_comment
If you use the grepping commands from the [[https://github.com/minad/consult/][Consult]] package, ‘consult-grep’,
‘consult-git-grep’ or ‘consult-ripgrep’, then you’ll probably want to install
and load the ‘embark-consult’ package, which adds support for exporting a list
of grep results to an honest grep-mode buffer, on which you can even use wgrep
if you wish.
#+end_comment

#+NAME: collect vs export (prefer 'export' over 'collect')
#+begin_comment
Prefer ‘embark-export’ since when an exporter to a special major mode is
available for a given type of target, it will be more featureful than an Embark
collect buffer, and if no such exporter is configured the ‘embark-export’
command falls back to the generic ‘embark-collect-snapshot’.
#+end_comment

=embark-collect-live= useless with /vertico/.

*** Switching command without losing input | ~embark-become~
~B~ =embark-become= - change current command keeping your input (like
/switch-to-buffer/ -> /find-file/)

** Utility
- [[https://github.com/tecosaur/emacs-everywhere#usage][everywhere]] - Invoke Emacs everywhere
- [[file:~/.emacs.d/modules/ui/popup/README.org::*Commands][popup]]:
  + C-~ (+popup/raise) - Raise the current popup window into a regular window
  + C-` (+popup/toggle) - Toggle any visible popups.
  + SPC ~  (+popup/toggle) - Toggle any visible popups.
  + C-x p  (+popup/other) - Cycle through popup windows, like ‘other-window’....
- [[file:~/.emacs.d/modules/tools/editorconfig/README.org::*Features][editorconfig]]
- better-jumper, [[https://github.com/gilbertw1/better-jumper#comparison-with-evil-jump][here]] is it's comparison to evil-jump. Basically its ~C-i / o~
  functionality. But if u type ~M-x better-..~ u will get all its possible
  functions, among which is =better-jumper-jump-newest=, which doesn't have kbd,
  but jus keep it in mind. Nothing else interesting there.
- =evil-quick-diff= - used to diff and edit two separate blocks of text.
- [[https://github.com/hlissner/doom-emacs/blob/develop/modules/tools/pass/README.org#description][pass]] - ~M-x pass~; view [[https://git.zx2c4.com/password-store/about/][pass man page]]
- [[https://github.com/hlissner/doom-emacs/blob/develop/modules/term/vterm/README.org][vterm]] - new terminal
- [[https://github.com/emacsmirror/undo-tree/blob/master/undo-tree.el][undo-tree]] (shortcuts bit below in doc.)
- [[https://www.emacswiki.org/emacs/AproposMode][apropos-mode]] - obtain information about the Emacs entities that match a
  regular expression (regexp) or keywords that you type.
- Nov [[https://depp.brause.cc/nov.el/][#docs]]
  - SPC - scroll
  - n / p - switch chapters
  - DEL / S-SPC (nov-scroll-down) - Scroll with ‘scroll-down’ or visit prev...
  - RET (nov-browse-url)          - Follow an external url with ‘browse-url’.
  - i / t (nov-goto-toc)          - Go to the Table Of Contents index
  - ~C(M)-k/j~ / ~[ [~ / ~] ]~ / ~g k/j~  - Go to the previous/next document
  - g ? (nov-display-metadata)    - View the metadata of the EPUB document ...

*** EWW
+ Opening:
  - o :: *new query*
  - g t (eww-list-buffers) :: *list* opened EWW *buffers*
  - & / go / <S-return> :: open in *external* browser
  - M-RET :: *open* URL (or same page if not on URL) at point in *new buffer*
+ Navigating:
  - H/L :: *back / forward* url (/backspace/ also works)
  - U :: eww-*top*-url
  - u / ^ :: eww-*up*-url
  - ]]/[[ / g j/k :: previous / next url (like "next" on page literally)
  - g h :: list browsing *history*. The history is lost when EWW is quit. If you
    want to remember websites - use bookmarks. History limit is stored in
    =eww-history-limit= var.
  - <tab> / <backtab> :: shr *next / previous link*
+ Bookmarks:
  - m :: *bookmark*
  - g b :: eww-list-bookmarks
  - M-n/p :: *next / previous* bookmark
  - When in bookmarks buffer:
    - RET :: Browse the bookmark under point in eww.
    - C-k, D :: Kill the current bookmark.
    - P :: Yank a previously killed bookmark to the current line.
+ Viewing:
  - r/R (eww-readable) :: attampt to determine which part of the doc contains the
    'readable' text, and will only display this part. This usually gets rid of
    menus and the like.
  - *z* d :: eww-toggle-paragraph-direction
  - z e :: eww-set-character-encoding
  - z f :: eww-toggle-fonts
  - M-C :: toggle whether to use HTML-specified colors or not. (=shr-use-colors=
    variable)
+ Other:
  - d :: *download* URL (link at cursor otherwise current page). Directory for
    downloading lies within =eww-download-directory=
  - g c :: url-cookie-list
  - Z Q/Z :: *quit* window

Hotkeys below are the default hotkeys. They r shadowed by evil everywhere.
But they r relevant if u enter 'insert mode' in eww buffer (or if called from =emacs-state=):
#+begin_comment
TAB (shr-next-link)
C (url-cookie-list)
D (eww-toggle-paragraph-direction)
E (eww-set-character-encoding)
G (eww)
H (eww-list-histories)
S (eww-list-buffers)
b (eww-add-bookmark)
g (eww-reload)
h (describe-mode)
l/n (eww-back/next-url)
p/r (eww-previous/forward-url)
s (eww-switch-to-buffer)
t (eww-top-url)
v (eww-view-source)
w (eww-copy-page-url) - copy current page's url to kill ring
DEL (scroll-down-command)
<delete> (scroll-down-command)
#+end_comment

_Commands_:
- eww-open-file :: open a local HTML file

*** IRC [[file:~/.emacs.d/modules/app/irc/README.org::*An IRC Client in Emacs][#kbds]] ~SPC m~
#+NAME: what is IRC
#+begin_comment
[[https://github.com/emacs-circe/circe/wiki/Introduction-to-IRC][Introduction to IRC]]

Contrary to most Instant Messenger (IM) systems, users usually don’t
connect to a central server.  Instead, users connect to a random server
in a network, and servers relay messages from one to the next.

Here’s a typical example:

When you connect to the Libera.Chat network (‘https://libera.chat’),
you point your IRC client at the server ‘irc.libera.chat’.  That server
will redirect your client to a random server on the network, such as
‘zirconium.libera.chat’.

Once you’re connected, you can send messages to all other users
connected to the same network, and you can join all channels on the same
network.  You might join the ‘#emacs’ and the ‘#rcirc’ channels, for
example.  (Typically, channel names begin with a hash character.)

Once you have joined a channel, anything you type will be broadcast
to all the other users on the same channel.
#+end_comment

- Channel activity is tracked in the mode line. C-c C-SPC cycles through
  channels with activity, and back to the buffer you came from.
- A fools list complements the ignore list. Lines from fools are by default
  hidden, but can be shown temporarily with a keyboard command. This makes it
  possible to ignore some annoying person, but still figure out what is going on
  in case someone starts talking with them.
- Both the ignore and fool features do not only ignore people, but try to be
  smart about also ignoring those who address the ignored person.

For private messages, Circe creates a query buffer, which is dedicated to the
conversation with a single other individual. Circe tries to keep track of the
nick of that individual. - What is the difference from DCC?

[[https://github.com/emacs-circe/circe/wiki/Configuration][Configuration]]

[[https://github.com/emacs-circe/circe/wiki/Using-Circe-with-IRC-bouncers-like-ZNC][Bouncer (znc)]]

**** Commands
- /SAY text :: Say ~text~ to the current target. This is useful to prevent a
  misinterpretation of a slash at the beginning of a line.
- /ME action :: Tell the current channel that you are doing =action=. This is
  usually displayed to others as follows (where =padawan= is your nick): ~/ME
  smiles at the people in the channel.~ -> ~padawan smiles at the people in the
  channel.~
- M-x circe-reconnect :: reconnects current IRC seccion, i.e. ur net died.
- /JOIN channel [key] :: Join =channel=, optionally supplying a =key=. Some
  channels have a keyword set so that only those in the know can join it. This
  is rare, though.
- /PART [reason] :: leave cur. channel. You can give a =reason=, too.
- /NAMES [channel] / C-c C-n :: get a list of people on the cur. channel, or
  possibly on =channel=
- topic [newtext] :: retrieves or sets the topic of the current channel. The
  topic is a (more or less) long line of text, usually announcing important URLs
  or events.
- /CHTOPIC / C-c C-t :: Replace the current input line with a command to set the
  topic as it is at the moment. This is useful if you want to change the topic
  slightly.
- /WL [number] :: Who Left command, useful on =netsplit= & =netmerge=. [[https://github.com/emacs-circe/circe/wiki/Commands#wl-number][#docs]]
- /MSG nick text :: send =nick= a message containing =text=. This is equivalent
  to opening (or switching to) a query buffer for this person, and typing text
  at the prompt.
- /QUERY nick :: Open a query buffer for user =nick=.
- /AWAY [reason], /GAWAY [reason] :: This command sets you =away=, which means
  you're not available for talking at the moment. The reason is told to everyone
  who sends messages to you, or checks your whois information. The =gaway= variant
  does the same, but on all servers you are connected to.
- /BACK :: This command removes any away status. It is equivalent to AWAY
  without any arguments.
- /QUIT [reason], /GQUIT [reason] :: A completely useless command which makes
  you leave IRC. Since this is such a completely incomprehensible thing to do,
  it is very useful to give a =reason= why you did that. =GQUIT= does the same, but
  on all servers you are on.
- /IGNORE [pattern] :: [[https://github.com/emacs-circe/circe/wiki/Commands#ignore-pattern][#docs]]
- /PING nick :: The net being what it is, it is possible that sometimes a
  connection is very slow. How fast someone is receiving your messages can be
  tested with this message.
- /WHOIS nick [nick], /WHOWAS nick :: =WHOIS= returns some information about
  another user. WHOWAS works on nicks that are not on IRC anymore, though it
  returns less information.
- /WHOAMI :: When you don't see your own nick in messages you send, it is
  sometimes quite nice to be remembered who you are again. This command does a
  WHOIS on yourself.
- /CTCP nick command arguments :: CTCP is the [[https://www.irchelp.org/protocol/ctcpspec.html][Client-To-Client Protocol]] used on
  IRC. If you want to test it, try to send yourself a CTCP message. Possible
  commands are obtained from CLIENTINFO command (no args)
- /QUOTE text :: Sometimes it is desirable for some people to send IRC commands
  themselves. The QUOTE command just takes its argument and passes it unmodified
  to the IRC server.
- /SV :: tells the current target the version of Circe and Emacs
  you are using. Besides being useful in bragging contests, this also helps in
  debugging problems.
*** Pdf-tools
??? Virtual - Use a collection of documents as if it were one, big single PDF.

/Image-mode/ keymap might also be somehow useful in pdf-mode?

Like in *VIM*: gg/G, hjkl, nN, /?, m[arking] and jumping to marks (')

+ Navigation
  - C-x ], ] ], g j, C-j :: *next* page
  - C-x [, [ [, g k, C-k :: *previous* page
  - C-f, C-d :: Scroll *page up* ARG lines if possible, else go to the next page.
  - C-b, C-u, <delete> :: Scroll *page down* ARG lines if possible, else go
    to the previous page.
  - \ </> :: (call from =emacs-state= (~\~) cuz there is no evil kbds) *top / bottom*
    of cur. page
  - M-s o :: *Occur* (list all lines containing a phrase) (/doesn't work/)
  - F :: pick a *link* and *jump*
  - f :: incremental *search in links*
  - o :: Display *outline* and *jump* to section
  - M-g l, g l :: *Go to* the page corresponding to *LABEL*.
  - \ B / N :: (.. from =emacs-state=) *History* back / forward
  - M-g M-g, M-g g :: *Go to PAGE*
+ Display
  - =, z i, +, = :: *Enlarge* PDF by FACTOR.
  - z o, - :: *Shrink* PDF by FACTOR.
  - z 0, 0 :: *Reset* zoom
  - H / W / P :: *Fit* Height / Width / Page
  - s b :: Trim *margins* (set slice to bounding box)
  - s r :: Reset margins
+ Look
  - C-c C-d, z d :: *dark* background
  - C-c C-r m, z m :: Apply a *color-filter* appropriate for past *midnight* reading.
  - C-c C-r t :: *Synchronize* color filter with the present Emacs *theme*.
  - C-c C-r p, z p :: Display the PDF as it would be printed.
+ Annotations (if any of kbds below *don't* work - use ~\~)
  - C-c C-a l :: *List* annotations
  - C-c C-a D :: *Delete* annotation A.
  - C-c C-a h/m/s/o/t/u :: Add a new highlight / markup / squiggly / strike-out
    / text / underline annotation in the selected window.
  - SPACE :: Jump to Annotations from List
  - d :: Mark Annotation for Deletion
  - x :: Delete Marked Annotations
  - u :: Unmark Annotations
  - q :: Close Annotation List
+ Quitting
  - Q / Z Q :: kill-this-buffer
  - Z Z / q :: quit-window
  - q       :: kill-current-buffer
+ Other
  - $ :: image-eol
  - C-c C-p :: pdf-misc-print-document
  - C-c <tab>, C-c TAB :: *Create* a PNG *image* of REGIONS.
  - M-w, S-<delete>, <visual-state> y :: *Copy region* to the ‘kill-ring’.
  - C-x h :: *Mark* the whole *page*.
  - C-c C-a a :: List all attachments in a dired buffer.
  - C-c C-g :: jump to PDF location from source (/doesn't work/)
* unused kbds
S-q

~SPC~ .. k, j, d
